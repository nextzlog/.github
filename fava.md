---
title: Scalaで自作するプログラミング言語処理系
subtitle: Computation Models & Compilers on Scala
pdf: fava.pdf
---
## [1 言語処理系を作る](https://zenn.dev/nextzlog/articles/fava-chapter1)
1 言語処理系を作る

本書では、**ラムダ計算**を理論的背景に持つ独自のプログラミング言語の**インタプリタ**を自作して、**計算論**の基礎を学ぶ。
自作する言語の名前はfavaとする。最低限の機能に限定した簡素な言語だが、改良次第では高機能な言語に拡張できる。

...
## [2 計算モデルを作る](https://zenn.dev/nextzlog/articles/fava-chapter2)
2 計算モデルを作る

**言語処理系**とは、言語仕様に沿って書かれた計算手順を読み取り、任意の計算機を構築または模倣する**万能機械**である。
計算機を抽象化した数学的な模型を**計算モデル**と呼ぶ。例えば、論理回路は第2.1節に述べる**有限状態機械**で表現できる。

...
## [3 ラムダ計算の理論](https://zenn.dev/nextzlog/articles/fava-chapter3)
3 ラムダ計算の理論

実在する計算機を意識した第2章の計算モデルに対し、関数の**評価**と**適用**による計算手順の抽象化がラムダ計算である。
第3章では、任意の式を**ラムダ式**と呼ぶ。変数も、整数も、関数もラムダ式である。関数は、式 3.1のように定義する。

...
## [4 簡単なコンパイラ](https://zenn.dev/nextzlog/articles/fava-chapter4)
4 簡単なコンパイラ

第2章の計算モデルは、C言語やラムダ計算など**高水準言語**の内容を実行するには原始的すぎる。そこで、翻訳を行う。
翻訳を行う言語処理系を**コンパイラ**と呼ぶ。第4章では、簡単な逆ポーランド記法の翻訳を例に、その概念を解説する。

...
## [5 自作言語の仕様書](https://zenn.dev/nextzlog/articles/fava-chapter5)
5 自作言語の仕様書

favaは静的型付け言語である。組込み型には、整数型と実数型と論理型と文字列型と関数型があり、型推論が行われる。
整数型は符号付き32 bit整数で、実数型はIEEE 754 (64 bit 2進数)浮動小数点数で、文字列はUTF-16で表現される。

...
## [6 命令セットを作る](https://zenn.dev/nextzlog/articles/fava-chapter6)
6 命令セットを作る

第6章では、第2.4節で実装した計算機を拡張し、**分岐命令**を備えた**命令セット**を設計して、条件分岐や関数を実現する。
以下に例を示す。まず、Push命令がスタックに値を積む。その値が偽なら、続くSkin命令が、3個の命令を読み飛ばす。

...
## [7 コンパイラを作る](https://zenn.dev/nextzlog/articles/fava-chapter7)
7 コンパイラを作る

第7章では、第5章の仕様に従って、式を第6章の命令列に翻訳する仕組みを作る。構文解析には第4.3節の実装を使う。
最初に、第7.1節から第7.2節で、様々な構文木を実装する。構文木は、命令列を生成する**コード生成器**の役割を兼ねる。

...
